<!DOCTYPE html>
<html lang="en" class="scroll-smooth" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Connect Dashboard - Full Feature Mockup</title>
  <meta name="description" content="Connect Dashboard with advanced user features" />
  <meta name="keywords" content="dashboard, jobs, services, Kenya, Tailwind, Chat, Wallet" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.min.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    /* Sidebar transition */
    .sidebar {
      transition: left 0.3s ease;
      position: fixed;
      top: 0;
      bottom: 0;
      z-index: 40;
      width: 20rem;
      left: 0;
      background-color: #fff;
    }
    .sidebar-hidden {
      left: -100%;
    }
    .main-content {
      margin-left: 20rem;
      transition: margin-left 0.3s ease;
    }
    @media (max-width: 1024px) {
      .sidebar {
        left: -100%;
      }
      .main-content {
        margin-left: 0;
      }
    }
    /* Scrollbar for chat */
    .chat-scroll {
      max-height: 300px;
      overflow-y: auto;
    }
    /* Custom toggle switch */
    .toggle-checkbox:checked {
      right: 0.25rem;
    }
    .toggle-checkbox {
      transition: right 0.3s ease;
    }
  </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-all duration-300">

  <!-- Navbar -->
  <nav class="bg-gradient-to-r from-teal-600 to-blue-700 text-white shadow sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center max-w-full">
      <a href="#" class="text-2xl font-bold flex items-center gap-2">
        <i class="fas fa-handshake"></i> Connect
      </a>

      <div class="flex items-center gap-6">
        <!-- Language Switcher -->
        <select id="languageToggle" aria-label="Language Switcher" class="bg-transparent border border-white rounded px-2 py-1 text-white cursor-pointer">
          <option value="en">English</option>
          <option value="sw">Swahili</option>
        </select>

        <!-- Dark Mode Toggle -->
        <button id="darkModeToggle" aria-label="Toggle Dark Mode" class="hover:text-gray-300 transition">
          <i class="fas fa-moon"></i>
        </button>

        <!-- Notifications Icon -->
        <button id="notificationBtn" aria-label="Notifications" class="relative hover:text-gray-300 transition">
          <i class="fas fa-bell fa-lg"></i>
          <span id="notifCount" class="absolute -top-1 -right-2 bg-red-600 text-xs rounded-full px-1.5 py-0.5 font-semibold">5</span>
        </button>

        <!-- Profile Dropdown -->
        <div class="relative" id="profileMenuWrapper">
          <button id="profileBtn" aria-haspopup="true" aria-expanded="false" class="flex items-center gap-2 focus:outline-none">
            <img src="https://i.pravatar.cc/40?img=3" alt="Profile Picture" class="w-10 h-10 rounded-full border-2 border-white" />
            <span class="hidden sm:inline font-semibold">John Doe</span>
            <i class="fas fa-chevron-down"></i>
          </button>
          <div id="profileDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded shadow-lg py-2 z-50">
            <a href="#" class="block px-4 py-2 hover:bg-teal-100 dark:hover:bg-teal-700">Profile</a>
            <a href="#" class="block px-4 py-2 hover:bg-teal-100 dark:hover:bg-teal-700">Settings</a>
            <a href="#" class="block px-4 py-2 hover:bg-teal-100 dark:hover:bg-teal-700">Logout</a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar bg-white dark:bg-gray-800 shadow-lg p-6 overflow-y-auto">
    <h2 class="text-xl font-semibold mb-6">Menu</h2>
    <nav class="flex flex-col gap-3" aria-label="Primary Navigation">
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="welcome" aria-current="page">
        <i class="fas fa-home mr-2"></i> Welcome Overview
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="notificationsSection">
        <i class="fas fa-bell mr-2"></i> Notifications Center
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="jobsSection">
        <i class="fas fa-briefcase mr-2"></i> Job / Task Manager
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="walletSection">
        <i class="fas fa-wallet mr-2"></i> Wallet & Transactions
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="messagesSection">
        <i class="fas fa-comments mr-2"></i> Messages & Chat
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="profileSection">
        <i class="fas fa-user-cog mr-2"></i> Profile & Settings
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="clientFeaturesSection">
        <i class="fas fa-user-tie mr-2"></i> Client Features
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="workerFeaturesSection">
        <i class="fas fa-hard-hat mr-2"></i> Worker Features
      </button>
      <button class="nav-btn text-left px-4 py-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700" data-section="bonusSection">
        <i class="fas fa-gift mr-2"></i> Bonus Enhancements
      </button>
    </nav>
  </aside>

  <!-- Main Content -->
  <main id="mainContent" class="main-content p-6 min-h-screen bg-gray-100 dark:bg-gray-900 overflow-auto">

    <!-- Welcome Overview -->
    <section id="welcome" class="section">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
        <div class="flex items-center gap-4">
          <img src="https://i.pravatar.cc/80?img=3" alt="Profile Picture" class="rounded-full w-20 h-20 border-4 border-teal-500" />
          <div>
            <h1 class="text-3xl font-bold">Welcome back, John!</h1>
            <p class="text-teal-600 dark:text-teal-400 font-semibold mt-1">Ready to get things done today?</p>
          </div>
        </div>
        <div class="flex items-center gap-6">
          <label for="availabilityToggle" class="flex items-center cursor-pointer select-none">
            <span class="mr-3 font-semibold text-gray-700 dark:text-gray-300">Available Now</span>
            <div class="relative">
              <input type="checkbox" id="availabilityToggle" class="sr-only" />
              <div class="w-14 h-8 bg-gray-300 rounded-full shadow-inner"></div>
              <div class="toggle-checkbox absolute left-1 top-1 w-6 h-6 bg-white rounded-full shadow transform transition"></div>
            </div>
          </label>
        </div>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 mt-8">
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow hover:shadow-lg transition">
          <h3 class="text-lg font-semibold mb-2">Jobs Completed</h3>
          <p class="text-3xl font-bold text-teal-600 dark:text-teal-400">42</p>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow hover:shadow-lg transition">
          <h3 class="text-lg font-semibold mb-2">Earnings</h3>
          <p class="text-3xl font-bold text-teal-600 dark:text-teal-400">KES 120,000</p>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow hover:shadow-lg transition">
          <h3 class="text-lg font-semibold mb-2">Rating</h3>
          <p class="text-3xl font-bold text-teal-600 dark:text-teal-400 flex items-center gap-2">
            4.8 <i class="fas fa-star text-yellow-400"></i>
          </p>
        </div>
      </div>
    </section>

    <!-- Notifications Center -->
    <section id="notificationsSection" class="section hidden">
      <h2 class="text-2xl font-semibold mb-4">Notifications Center</h2>
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 max-h-[400px] overflow-y-auto">
        <ul id="notificationsList" class="divide-y divide-gray-300 dark:divide-gray-700">
          <!-- Sample notifications -->
          <li class="py-3 flex items-start gap-3">
            <i class="fas fa-briefcase text-teal-600 mt-1"></i>
            <div>
              <p class="font-semibold">Job Update</p>
              <p class="text-sm text-gray-600 dark:text-gray-300">Your job "Plumbing Fix" is now In Progress.</p>
              <time class="text-xs text-gray-400">10 minutes ago</time>
            </div>
          </li>
          <li class="py-3 flex items-start gap-3">
            <i class="fas fa-envelope text-blue-600 mt-1"></i>
            <div>
              <p class="font-semibold">New Message</p>
              <p class="text-sm text-gray-600 dark:text-gray-300">You received a message from client Jane.</p>
              <time class="text-xs text-gray-400">30 minutes ago</time>
            </div>
          </li>
          <li class="py-3 flex items-start gap-3">
            <i class="fas fa-wallet text-green-600 mt-1"></i>
            <div>
              <p class="font-semibold">Payment Received</p>
              <p class="text-sm text-gray-600 dark:text-gray-300">KES 5,000 was deposited to your wallet.</p>
              <time class="text-xs text-gray-400">1 hour ago</time>
            </div>
          </li>
          <li class="py-3 flex items-start gap-3">
            <i class="fas fa-calendar-check text-yellow-600 mt-1"></i>
            <div>
              <p class="font-semibold">Reminder</p>
              <p class="text-sm text-gray-600 dark:text-gray-300">Job "House Cleaning" starts tomorrow at 9 AM.</p>
              <time class="text-xs text-gray-400">2 hours ago</time>
            </div>
          </li>
        </ul>
      </div>
    </section>

    <!-- Job / Task Manager -->
    <section id="jobsSection" class="section hidden">
      <h2 class="text-2xl font-semibold mb-4">Job / Task Manager</h2>

      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4">
        <div class="flex gap-3 flex-wrap">
          <select id="jobStatusFilter" class="rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
            <option value="all">All Statuses</option>
            <option value="pending">Pending</option>
            <option value="in-progress">In Progress</option>
            <option value="completed">Completed</option>
            <option value="cancelled">Cancelled</option>
          </select>
          <select id="jobTypeFilter" class="rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
            <option value="all">All Job Types</option>
            <option value="cleaning">Cleaning</option>
            <option value="plumbing">Plumbing</option>
            <option value="delivery">Delivery</option>
            <option value="pet-care">Pet Care</option>
          </select>
          <input type="date" id="jobDateFilter" class="rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
          <button id="clearFiltersBtn" class="bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition">Clear Filters</button>
        </div>
      </div>

      <div id="jobList" class="space-y-4 max-h-[500px] overflow-y-auto">
        <!-- Sample job cards -->
      </div>
    </section>

    <!-- Wallet & Transactions -->
    <section id="walletSection" class="section hidden">
      <h2 class="text-2xl font-semibold mb-4">Wallet & Transactions</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
          <h3 class="text-lg font-semibold mb-2">Current Balance</h3>
          <p class="text-4xl font-bold text-teal-600 dark:text-teal-400">KES 15,750</p>
          <div class="mt-4 flex gap-4">
            <button id="depositBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded transition">Deposit</button>
            <button id="withdrawBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition">Withdraw</button>
          </div>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 overflow-auto max-h-[400px]">
          <h3 class="text-lg font-semibold mb-2">Transaction History</h3>
          <table class="w-full text-left text-sm">
            <thead>
              <tr class="border-b border-gray-300 dark:border-gray-700">
                <th class="py-2 px-3">Date</th>
                <th class="py-2 px-3">Type</th>
                <th class="py-2 px-3">Amount</th>
                <th class="py-2 px-3">Method</th>
              </tr>
            </thead>
            <tbody id="transactionTableBody">
              <!-- Sample transactions -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="mt-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-lg font-semibold mb-2">Linked Payment Methods</h3>
        <ul class="flex gap-6">
          <li class="flex items-center gap-2">
            <i class="fab fa-cc-visa text-blue-600 fa-2x"></i> Visa Card
          </li>
          <li class="flex items-center gap-2">
            <i class="fas fa-mobile-alt text-green-600 fa-2x"></i> M-Pesa
          </li>
          <li class="flex items-center gap-2">
            <i class="fab fa-cc-mastercard text-red-600 fa-2x"></i> MasterCard
          </li>
        </ul>
      </div>
    </section>

    <!-- Messages & Chat -->
    <section id="messagesSection" class="section hidden flex flex-col md:flex-row gap-6">
      <div class="md:w-1/3 bg-white dark:bg-gray-800 rounded-lg shadow p-4 flex flex-col">
        <h2 class="font-semibold text-xl mb-4">Conversations</h2>
        <ul id="conversationsList" class="flex flex-col gap-3 overflow-y-auto max-h-[400px]">
          <!-- Sample conversations -->
        </ul>
      </div>
      <div class="md:w-2/3 bg-white dark:bg-gray-800 rounded-lg shadow p-4 flex flex-col">
        <h2 class="font-semibold text-xl mb-4" id="chatWith">Select a conversation</h2>
        <div id="chatMessages" class="chat-scroll flex-1 overflow-y-auto mb-4 border border-gray-300 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-900"></div>
        <form id="chatForm" class="flex gap-2">
          <input type="text" id="chatInput" placeholder="Type a message..." class="flex-1 rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" autocomplete="off" />
          <button type="submit" class="bg-teal-600 hover:bg-teal-700 text-white px-4 rounded">Send</button>
        </form>
      </div>
    </section>

    <!-- Profile & Settings -->
    <section id="profileSection" class="section hidden max-w-3xl mx-auto">
      <h2 class="text-2xl font-semibold mb-6">Profile & Settings</h2>
      <form id="profileForm" class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-6">
        <div class="flex items-center gap-6">
          <img src="https://i.pravatar.cc/80?img=3" alt="Profile Picture" class="rounded-full w-20 h-20 border-4 border-teal-500" />
          <div>
            <label for="profilePicInput" class="cursor-pointer text-teal-600 hover:underline">Change Profile Picture</label>
            <input type="file" id="profilePicInput" accept="image/*" class="hidden" />
          </div>
        </div>

        <div>
          <label for="fullName" class="block mb-1 font-semibold">Full Name</label>
          <input type="text" id="fullName" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" value="John Doe" />
        </div>
        <div>
          <label for="email" class="block mb-1 font-semibold">Email</label>
          <input type="email" id="email" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" value="john@example.com" />
        </div>
        <div>
          <label for="phone" class="block mb-1 font-semibold">Phone Number</label>
          <input type="tel" id="phone" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" value="+254712345678" />
        </div>
        <div>
          <label for="roleSelect" class="block mb-1 font-semibold">Role</label>
          <select id="roleSelect" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
            <option value="worker" selected>Worker</option>
            <option value="client">Client</option>
          </select>
        </div>

        <fieldset class="border border-gray-300 dark:border-gray-700 rounded p-4 space-y-3">
          <legend class="font-semibold">Notification Settings</legend>
          <label class="flex items-center gap-2">
            <input type="checkbox" id="notifEmail" checked />
            <span>Email Notifications</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="checkbox" id="notifPush" checked />
            <span>Push Notifications</span>
          </label>
        </fieldset>

        <fieldset class="border border-gray-300 dark:border-gray-700 rounded p-4 space-y-3">
          <legend class="font-semibold">Privacy Settings</legend>
          <label class="flex items-center gap-2">
            <input type="checkbox" id="profileVisibility" checked />
            <span>Profile Visible to Public</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="checkbox" id="showActivity" />
            <span>Show Activity Status</span>
          </label>
        </fieldset>

        <button type="submit" class="bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded font-semibold">Save Changes</button>
      </form>
    </section>

    <!-- Client Specific Features -->
    <section id="clientFeaturesSection" class="section hidden max-w-4xl mx-auto space-y-6">
      <h2 class="text-2xl font-semibold">Client Features</h2>

      <!-- Post a Job -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Post a Job</h3>
        <form id="postJobForm" class="space-y-4">
          <div>
            <label for="jobTitle" class="block mb-1 font-semibold">Job Title</label>
            <input type="text" id="jobTitle" required class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" placeholder="e.g. House Cleaning" />
          </div>
          <div>
            <label for="jobLocation" class="block mb-1 font-semibold">Location</label>
            <input type="text" id="jobLocation" required class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" placeholder="Nairobi, Kenya" />
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="jobDate" class="block mb-1 font-semibold">Date</label>
              <input type="date" id="jobDate" required class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" />
            </div>
            <div>
              <label for="jobType" class="block mb-1 font-semibold">Job Type</label>
              <select id="jobType" required class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
                <option value="">Select Type</option>
                <option value="cleaning">Cleaning</option>
                <option value="plumbing">Plumbing</option>
                <option value="delivery">Delivery</option>
                <option value="pet-care">Pet Care</option>
              </select>
            </div>
          </div>
          <div>
            <label for="priceRange" class="block mb-1 font-semibold">Price Range (KES)</label>
            <input type="text" id="priceRange" required placeholder="e.g. 500 - 1500" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" />
          </div>
          <button type="submit" class="bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded font-semibold">Post Job</button>
        </form>
      </div>

      <!-- Manage Listings -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Manage Listings</h3>
        <div id="jobListings" class="space-y-3 max-h-72 overflow-y-auto">
          <!-- Job listings will appear here -->
        </div>
      </div>

      <!-- Worker Ratings & Favorites -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
          <h3 class="text-xl font-semibold mb-4">Worker Ratings & Reviews</h3>
          <div id="workerReviews" class="space-y-3 max-h-48 overflow-y-auto">
            <!-- Sample reviews -->
          </div>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
          <h3 class="text-xl font-semibold mb-4">Favorites / Bookmarks</h3>
          <div id="favoritesList" class="space-y-3 max-h-48 overflow-y-auto">
            <!-- Sample favorites -->
          </div>
        </div>
      </div>

      <!-- Job Insights -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mt-6">
        <h3 class="text-xl font-semibold mb-4">Job Insights</h3>
        <div id="jobInsights" class="space-y-3 max-h-48 overflow-y-auto">
          <!-- Sample insights -->
        </div>
      </div>
    </section>

    <!-- Worker Specific Features -->
    <section id="workerFeaturesSection" class="section hidden max-w-4xl mx-auto space-y-6">
      <h2 class="text-2xl font-semibold">Worker Features</h2>

      <!-- Job Feed -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Job Feed / Nearby Opportunities</h3>
        <div id="jobFeed" class="space-y-3 max-h-72 overflow-y-auto">
          <!-- Sample job feed -->
        </div>
      </div>

      <!-- Application Tracker -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Application Tracker</h3>
        <div id="applicationTracker" class="space-y-3 max-h-48 overflow-y-auto">
          <!-- Sample applications -->
        </div>
      </div>

      <!-- Earnings & Withdrawals -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Earnings & Withdrawals</h3>
        <div id="earningsBreakdown" class="mb-4">
          <p>Daily: KES 1,200</p>
          <p>Weekly: KES 7,500</p>
          <p>Monthly: KES 30,000</p>
        </div>
        <div id="withdrawalHistory" class="space-y-3 max-h-48 overflow-y-auto">
          <!-- Sample withdrawal history -->
        </div>
      </div>

      <!-- Ratings & Feedback -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Ratings & Feedback</h3>
        <div id="workerRatings" class="space-y-3 max-h-48 overflow-y-auto">
          <!-- Sample ratings -->
        </div>
      </div>

      <!-- Availability Scheduler -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Availability Scheduler</h3>
        <form id="availabilityForm" class="space-y-3">
          <label class="flex items-center gap-2">
            <input type="checkbox" id="autoPause" />
            <span>Auto-pause when unavailable</span>
          </label>
          <div class="grid grid-cols-2 gap-4">
            <label>
              <span class="block font-semibold mb-1">Working Days</span>
              <select id="workingDays" multiple class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 h-24">
                <option value="monday" selected>Monday</option>
                <option value="tuesday" selected>Tuesday</option>
                <option value="wednesday" selected>Wednesday</option>
                <option value="thursday" selected>Thursday</option>
                <option value="friday" selected>Friday</option>
                <option value="saturday">Saturday</option>
                <option value="sunday">Sunday</option>
              </select>
            </label>
            <label>
              <span class="block font-semibold mb-1">Working Hours</span>
              <input type="time" id="workingHoursStart" value="08:00" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 mb-2" />
              <input type="time" id="workingHoursEnd" value="17:00" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100" />
            </label>
          </div>
          <button type="submit" class="bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded font-semibold">Save Availability</button>
        </form>
      </div>
    </section>

    <!-- Bonus Enhancements -->
    <section id="bonusSection" class="section hidden max-w-4xl mx-auto space-y-6">
      <h2 class="text-2xl font-semibold">Bonus Enhancements</h2>

      <!-- Geolocation Widget -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Geolocation Widget</h3>
        <p class="mb-4">Your current location:</p>
        <p id="geoLocation" class="font-mono text-teal-600 dark:text-teal-400"></p>
        <button id="getLocationBtn" class="mt-4 bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded font-semibold">Get Location</button>
      </div>

      <!-- Live Chat Support -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Live Chat Support</h3>
        <p>Chat with our support team anytime.</p>
        <button id="openSupportChatBtn" class="mt-4 bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded font-semibold">Open Chat</button>
      </div>

      <!-- Insights Dashboard -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Insights Dashboard</h3>
        <canvas id="insightsChart" class="w-full h-64"></canvas>
      </div>

      <!-- Referral Program -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Referral Program</h3>
        <p>Invite friends and earn rewards!</p>
        <input type="text" id="referralLink" readonly value="https://connect.app/referral/JOHN123" class="w-full rounded border border-gray-300 dark:border-gray-700 p-2 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100" />
        <button id="copyReferralBtn" class="mt-2 bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded font-semibold">Copy Link</button>
      </div>

      <!-- Tips / FAQs -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-4">Pinned Tips / FAQs</h3>
        <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
          <li>Always respond promptly to job requests.</li>
          <li>Keep your profile updated for better matches.</li>
          <li>Use availability scheduler to avoid conflicts.</li>
          <li>Check your wallet regularly for payments.</li>
          <li>Refer friends to earn bonus points.</li>
        </ul>
      </div>

      <!-- Alerts for Offers -->
      <div class="bg-yellow-100 dark:bg-yellow-700 rounded-lg shadow p-4 mt-6 text-yellow-800 dark:text-yellow-200 font-semibold flex items-center gap-3">
        <i class="fas fa-bullhorn fa-lg"></i>
        <span>20% bonus for jobs in Nairobi today! Act fast.</span>
      </div>
    </section>

  </main>

  <!-- Support Chat Modal -->
  <div id="supportChatModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg w-full max-w-md flex flex-col h-96">
      <header class="flex justify-between items-center p-4 border-b border-gray-300 dark:border-gray-700">
        <h3 class="text-lg font-semibold">Support Chat</h3>
        <button id="closeSupportChatBtn" aria-label="Close chat" class="text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
          <i class="fas fa-times fa-lg"></i>
        </button>
      </header>
      <div id="supportChatMessages" class="flex-1 p-4 overflow-y-auto bg-gray-50 dark:bg-gray-900"></div>
      <form id="supportChatForm" class="flex p-4 border-t border-gray-300 dark:border-gray-700 gap-2">
        <input type="text" id="supportChatInput" placeholder="Type your message..." class="flex-1 rounded border border-gray-300 dark:border-gray-700 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" autocomplete="off" />
        <button type="submit" class="bg-teal-600 hover:bg-teal-700 text-white px-4 rounded">Send</button>
      </form>
    </div>
  </div>

  <script>
    // Sidebar navigation
    const navButtons = document.querySelectorAll('.nav-btn');
    const sections = document.querySelectorAll('.section');
    navButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        navButtons.forEach(b => b.setAttribute('aria-current', 'false'));
        btn.setAttribute('aria-current', 'page');
        const target = btn.getAttribute('data-section');
        sections.forEach(sec => {
          if (sec.id === target) sec.classList.remove('hidden');
          else sec.classList.add('hidden');
        });
        // Scroll to top on section change
        document.getElementById('mainContent').scrollTop = 0;
      });
    });

    // Profile dropdown toggle
    const profileBtn = document.getElementById('profileBtn');
    const profileDropdown = document.getElementById('profileDropdown');
    profileBtn.addEventListener('click', () => {
      const expanded = profileBtn.getAttribute('aria-expanded') === 'true';
      profileDropdown.classList.toggle('hidden');
      profileBtn.setAttribute('aria-expanded', !expanded);
    });
    // Close profile dropdown on outside click
    document.addEventListener('click', e => {
      if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
        profileDropdown.classList.add('hidden');
        profileBtn.setAttribute('aria-expanded', 'false');
      }
    });

    // Dark mode toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
    });

    // Language toggle (basic demo)
    const languageToggle = document.getElementById('languageToggle');
    languageToggle.addEventListener('change', () => {
      alert(`Language switched to: ${languageToggle.value.toUpperCase()}`);
      // Here you would add real i18n logic
    });

    // Availability toggle styling
    const availabilityToggle = document.getElementById('availabilityToggle');
    availabilityToggle.addEventListener('change', () => {
      if (availabilityToggle.checked) {
        alert('You are now marked as Available.');
      } else {
        alert('You are now marked as Unavailable.');
      }
    });

    // Notifications button
    const notificationBtn = document.getElementById('notificationBtn');
    notificationBtn.addEventListener('click', () => {
      alert('You have 5 new notifications.');
    });

    // Job / Task Manager Data & Filtering
    const jobsData = [
      { id: 1, title: 'House Cleaning', type: 'cleaning', date: '2025-05-01', status: 'completed' },
      { id: 2, title: 'Plumbing Fix', type: 'plumbing', date: '2025-05-03', status: 'in-progress' },
      { id: 3, title: 'Package Delivery', type: 'delivery', date: '2025-05-05', status: 'pending' },
      { id: 4, title: 'Pet Walking', type: 'pet-care', date: '2025-05-07', status: 'cancelled' },
      { id: 5, title: 'Window Cleaning', type: 'cleaning', date: '2025-05-10', status: 'pending' },
    ];
    const jobListEl = document.getElementById('jobList');
    const jobStatusFilter = document.getElementById('jobStatusFilter');
    const jobTypeFilter = document.getElementById('jobTypeFilter');
    const jobDateFilter = document.getElementById('jobDateFilter');
    const clearFiltersBtn = document.getElementById('clearFiltersBtn');

    function renderJobs() {
      let filtered = [...jobsData];
      const status = jobStatusFilter.value;
      const type = jobTypeFilter.value;
      const date = jobDateFilter.value;

      if (status !== 'all') filtered = filtered.filter(j => j.status === status);
      if (type !== 'all') filtered = filtered.filter(j => j.type === type);
      if (date) filtered = filtered.filter(j => j.date === date);

      jobListEl.innerHTML = filtered.length ? filtered.map(job => `
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 flex justify-between items-center">
          <div>
            <h3 class="font-semibold text-lg">${job.title}</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">Type: ${job.type.charAt(0).toUpperCase() + job.type.slice(1)}</p>
            <p class="text-sm text-gray-600 dark:text-gray-400">Date: ${job.date}</p>
          </div>
          <span class="px-3 py-1 rounded-full text-sm font-semibold ${
            job.status === 'completed' ? 'bg-green-200 text-green-800' :
            job.status === 'pending' ? 'bg-yellow-200 text-yellow-800' :
            job.status === 'in-progress' ? 'bg-blue-200 text-blue-800' :
            'bg-red-200 text-red-800'
          }">${job.status.replace('-', ' ').toUpperCase()}</span>
        </div>
      `).join('') : '<p class="text-center text-gray-600 dark:text-gray-400">No jobs found.</p>';
    }
    jobStatusFilter.addEventListener('change', renderJobs);
    jobTypeFilter.addEventListener('change', renderJobs);
    jobDateFilter.addEventListener('change', renderJobs);
    clearFiltersBtn.addEventListener('click', () => {
      jobStatusFilter.value = 'all';
      jobTypeFilter.value = 'all';
      jobDateFilter.value = '';
      renderJobs();
    });
    renderJobs();

    // Wallet & Transactions sample data
    const transactions = [
      { date: '2025-04-20', type: 'Deposit', amount: 5000, method: 'M-Pesa' },
      { date: '2025-04-22', type: 'Withdrawal', amount: 2000, method: 'Visa Card' },
      { date: '2025-04-25', type: 'Deposit', amount: 3000, method: 'MasterCard' },
    ];
    const transactionTableBody = document.getElementById('transactionTableBody');
    function renderTransactions() {
      transactionTableBody.innerHTML = transactions.map(t => `
        <tr class="border-b border-gray-300 dark:border-gray-700">
          <td class="py-2 px-3">${t.date}</td>
          <td class="py-2 px-3">${t.type}</td>
          <td class="py-2 px-3">${t.amount.toLocaleString('en-KE', { style: 'currency', currency: 'KES' })}</td>
          <td class="py-2 px-3">${t.method}</td>
        </tr>
      `).join('');
    }
    renderTransactions();

    // Deposit & Withdraw buttons (demo)
    document.getElementById('depositBtn').addEventListener('click', () => alert('Deposit functionality coming soon!'));
    document.getElementById('withdrawBtn').addEventListener('click', () => alert('Withdraw functionality coming soon!'));

    // Messages & Chat sample data & logic
    const conversationsList = document.getElementById('conversationsList');
    const chatWith = document.getElementById('chatWith');
    const chatMessages = document.getElementById('chatMessages');
    const chatForm = document.getElementById('chatForm');
    const chatInput = document.getElementById('chatInput');

    const conversations = [
      {
        id: 1,
        name: 'Jane Client',
        messages: [
          { from: 'client', text: 'Hi John, are you available tomorrow?', time: '09:00 AM' },
          { from: 'worker', text: 'Yes, I am available.', time: '09:05 AM' },
        ],
        typing: false,
        seen: true,
      },
      {
        id: 2,
        name: 'Mike Client',
        messages: [
          { from: 'client', text: 'Can you fix my sink?', time: 'Yesterday' },
        ],
        typing: true,
        seen: false,
      },
    ];
    let activeConversationId = null;

    function renderConversations() {
      conversationsList.innerHTML = conversations.map(conv => `
        <li class="cursor-pointer p-2 rounded hover:bg-teal-100 dark:hover:bg-teal-700 ${conv.id === activeConversationId ? 'bg-teal-200 dark:bg-teal-800' : ''}" data-id="${conv.id}">
          <div class="flex justify-between items-center">
            <span class="font-semibold">${conv.name}</span>
            <span class="text-xs text-gray-500 dark:text-gray-400">${conv.typing ? 'typing...' : ''}</span>
          </div>
          <p class="text-sm text-gray-600 dark:text-gray-400 truncate max-w-[200px]">${conv.messages.slice(-1)[0]?.text || ''}</p>
        </li>
      `).join('');
    }
    function renderChatMessages() {
      if (!activeConversationId) {
        chatWith.textContent = 'Select a conversation';
        chatMessages.innerHTML = '';
        return;
      }
      const conv = conversations.find(c => c.id === activeConversationId);
      chatWith.textContent = conv.name;
      chatMessages.innerHTML = conv.messages.map(m => `
        <div class="mb-2 max-w-[70%] ${m.from === 'worker' ? 'ml-auto bg-teal-600 text-white rounded-l-lg rounded-tr-lg p-2' : 'bg-gray-200 dark:bg-gray-700 rounded-r-lg rounded-tl-lg p-2'}">
          <p>${m.text}</p>
          <time class="block text-xs text-gray-500 mt-1">${m.time}</time>
        </div>
      `).join('');
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    conversationsList.addEventListener('click', e => {
      const li = e.target.closest('li');
      if (!li) return;
      activeConversationId = parseInt(li.getAttribute('data-id'));
      renderConversations();
      renderChatMessages();
    });
    chatForm.addEventListener('submit', e => {
      e.preventDefault();
      if (!activeConversationId) return alert('Select a conversation first.');
      const text = chatInput.value.trim();
      if (!text) return;
      const conv = conversations.find(c => c.id === activeConversationId);
      conv.messages.push({ from: 'worker', text, time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) });
      chatInput.value = '';
      renderChatMessages();
      renderConversations();
    });
    renderConversations();

    // Profile Form submit demo
    document.getElementById('profileForm').addEventListener('submit', e => {
      e.preventDefault();
      alert('Profile updated successfully!');
    });

    // Post Job Form demo
    document.getElementById('postJobForm').addEventListener('submit', e => {
      e.preventDefault();
      alert('Job posted successfully!');
      e.target.reset();
    });

    // Manage Listings sample data
    const jobListingsEl = document.getElementById('jobListings');
    const jobListings = [
      { id: 1, title: 'House Cleaning', location: 'Nairobi', date: '2025-05-01', price: 'KES 1500', active: true, views: 25, applicants: 5 },
      { id: 2, title: 'Plumbing Fix', location: 'Mombasa', date: '2025-05-03', price: 'KES 2000', active: true, views: 40, applicants: 8 },
      { id: 3, title: 'Pet Walking', location: 'Nakuru', date: '2025-05-05', price: 'KES 800', active: false, views: 10, applicants: 2 },
    ];
    function renderJobListings() {
      jobListingsEl.innerHTML = jobListings.map(j => `
        <div class="border border-gray-300 dark:border-gray-700 rounded p-4 flex justify-between items-center">
          <div>
            <h4 class="font-semibold">${j.title}</h4>
            <p class="text-sm text-gray-600 dark:text-gray-400">${j.location} | ${j.date} | ${j.price}</p>
          </div>
          <div class="flex items-center gap-3">
            <button onclick="toggleJobActive(${j.id})" class="px-3 py-1 rounded ${j.active ? 'bg-yellow-400 hover:bg-yellow-500' : 'bg-gray-400 hover:bg-gray-500'} text-white text-sm">
              ${j.active ? 'Pause' : 'Activate'}
            </button>
            <button onclick="deleteJob(${j.id})" class="px-3 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-sm">Delete</button>
          </div>
        </div>
      `).join('');
    }
    window.toggleJobActive = id => {
      const job = jobListings.find(j => j.id === id);
      if (!job) return;
      job.active = !job.active;
      renderJobListings();
      alert(`Job "${job.title}" is now ${job.active ? 'Active' : 'Paused'}.`);
    };
    window.deleteJob = id => {
      const job = jobListings.find(j => j.id === id);
      if (!job) return;
      if (confirm(`Are you sure you want to delete "${job.title}"?`)) {
        const idx = jobListings.findIndex(j => j.id === id);
        jobListings.splice(idx, 1);
        renderJobListings();
      }
    };
    renderJobListings();

    // Worker Reviews sample data
    const workerReviewsEl = document.getElementById('workerReviews');
    const workerReviews = [
      { worker: 'John Doe', rating: 4.9, feedback: 'Very professional and timely.' },
      { worker: 'Jane Smith', rating: 4.7, feedback: 'Great communication and quality work.' },
    ];
    function renderWorkerReviews() {
      workerReviewsEl.innerHTML = workerReviews.map(r => `
        <div class="border-b border-gray-300 dark:border-gray-700 pb-2">
          <p class="font-semibold">${r.worker} <span class="text-yellow-400"><i class="fas fa-star"></i> ${r.rating}</span></p>
          <p class="text-gray-600 dark:text-gray-400">${r.feedback}</p>
        </div>
      `).join('');
    }
    renderWorkerReviews();

    // Favorites sample data
    const favoritesListEl = document.getElementById('favoritesList');
    const favorites = [
      { name: 'Jane Smith', profession: 'Cleaner' },
      { name: 'Mike Johnson', profession: 'Plumber' },
    ];
    function renderFavorites() {
      favoritesListEl.innerHTML = favorites.map(f => `
        <div class="border-b border-gray-300 dark:border-gray-700 py-2">
          <p class="font-semibold">${f.name}</p>
          <p class="text-gray-600 dark:text-gray-400">${f.profession}</p>
        </div>
      `).join('');
    }
    renderFavorites();

    // Job Insights sample data
    const jobInsightsEl = document.getElementById('jobInsights');
    const jobInsights = [
      { jobTitle: 'House Cleaning', views: 120, applicants: 15 },
      { jobTitle: 'Plumbing Fix', views: 90, applicants: 10 },
    ];
    function renderJobInsights() {
      jobInsightsEl.innerHTML = jobInsights.map(i => `
        <div class="border-b border-gray-300 dark:border-gray-700 py-2">
          <p class="font-semibold">${i.jobTitle}</p>
          <p class="text-gray-600 dark:text-gray-400">Views: ${i.views} | Applicants: ${i.applicants}</p>
        </div>
      `).join('');
    }
    renderJobInsights();

    // Worker Job Feed sample data
    const jobFeedEl = document.getElementById('jobFeed');
    const jobFeed = [
      { title: 'Garden Maintenance', location: 'Nairobi', date: '2025-05-02' },
      { title: 'Dog Walking', location: 'Kisumu', date: '2025-05-04' },
    ];
    function renderJobFeed() {
      jobFeedEl.innerHTML = jobFeed.map(j => `
        <div class="border border-gray-300 dark:border-gray-700 rounded p-3">
          <h4 class="font-semibold">${j.title}</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">${j.location} | ${j.date}</p>
          <button class="mt-2 bg-teal-600 hover:bg-teal-700 text-white px-3 py-1 rounded text-sm">Apply</button>
        </div>
      `).join('');
    }
    renderJobFeed();

    // Application Tracker sample data
    const applicationTrackerEl = document.getElementById('applicationTracker');
    const applications = [
      { job: 'House Cleaning', status: 'Pending' },
      { job: 'Window Washing', status: 'Accepted' },
      { job: 'Pet Care', status: 'Rejected' },
    ];
    function renderApplications() {
      applicationTrackerEl.innerHTML = applications.map(a => `
        <div class="border border-gray-300 dark:border-gray-700 rounded p-3 flex justify-between items-center">
          <p>${a.job}</p>
          <span class="px-2 py-1 rounded text-sm font-semibold ${
            a.status === 'Accepted' ? 'bg-green-200 text-green-800' :
            a.status === 'Pending' ? 'bg-yellow-200 text-yellow-800' :
            'bg-red-200 text-red-800'
          }">${a.status}</span>
        </div>
      `).join('');
    }
    renderApplications();

    // Withdrawal History sample data
    const withdrawalHistoryEl = document.getElementById('withdrawalHistory');
    const withdrawals = [
      { date: '2025-04-15', amount: 3000, method: 'M-Pesa' },
      { date: '2025-04-20', amount: 2000, method: 'Visa Card' },
    ];
    function renderWithdrawals() {
      withdrawalHistoryEl.innerHTML = withdrawals.map(w => `
        <div class="border border-gray-300 dark:border-gray-700 rounded p-3 flex justify-between items-center">
          <p>${w.date}</p>
          <p>${w.amount.toLocaleString('en-KE', { style: 'currency', currency: 'KES' })}</p>
          <p>${w.method}</p>
        </div>
      `).join('');
    }
    renderWithdrawals();

    // Worker Ratings sample data
    const workerRatingsEl = document.getElementById('workerRatings');
    const workerRatings = [
      { client: 'Jane Client', rating: 5, feedback: 'Excellent work!' },
      { client: 'Mike Client', rating: 4, feedback: 'Good job, punctual.' },
    ];
    function renderWorkerRatings() {
      workerRatingsEl.innerHTML = workerRatings.map(r => `
        <div class="border-b border-gray-300 dark:border-gray-700 pb-2">
          <p class="font-semibold">${r.client} <span class="text-yellow-400"><i class="fas fa-star"></i> ${r.rating}</span></p>
          <p class="text-gray-600 dark:text-gray-400">${r.feedback}</p>
        </div>
      `).join('');
    }
    renderWorkerRatings();

    // Availability Scheduler form submit demo
    document.getElementById('availabilityForm').addEventListener('submit', e => {
      e.preventDefault();
      alert('Availability saved!');
    });

    // Geolocation Widget
    const geoLocationEl = document.getElementById('geoLocation');
    const getLocationBtn = document.getElementById('getLocationBtn');
    getLocationBtn.addEventListener('click', () => {
      if (!navigator.geolocation) {
        geoLocationEl.textContent = 'Geolocation is not supported by your browser.';
        return;
      }
      geoLocationEl.textContent = 'Locating...';
      navigator.geolocation.getCurrentPosition(
        pos => {
          geoLocationEl.textContent = `Latitude: ${pos.coords.latitude.toFixed(5)}, Longitude: ${pos.coords.longitude.toFixed(5)}`;
        },
        () => {
          geoLocationEl.textContent = 'Unable to retrieve your location.';
        }
      );
    });

    // Support Chat Modal
    const supportChatModal = document.getElementById('supportChatModal');
    const openSupportChatBtn = document.getElementById('openSupportChatBtn');
    const closeSupportChatBtn = document.getElementById('closeSupportChatBtn');
    const supportChatMessages = document.getElementById('supportChatMessages');
    const supportChatForm = document.getElementById('supportChatForm');
    const supportChatInput = document.getElementById('supportChatInput');

    openSupportChatBtn.addEventListener('click', () => {
      supportChatModal.classList.remove('hidden');
      supportChatMessages.innerHTML = `<p class="text-gray-600 dark:text-gray-400">Support is online. How can we help you?</p>`;
    });
    closeSupportChatBtn.addEventListener('click', () => {
      supportChatModal.classList.add('hidden');
      supportChatInput.value = '';
    });
    supportChatForm.addEventListener('submit', e => {
      e.preventDefault();
      const msg = supportChatInput.value.trim();
      if (!msg) return;
      const userMsg = `<div class="mb-2 text-right"><span class="inline-block bg-teal-600 text-white rounded p-2">${msg}</span></div>`;
      supportChatMessages.innerHTML += userMsg;
      supportChatInput.value = '';
      supportChatMessages.scrollTop = supportChatMessages.scrollHeight;
      // Simulate support reply
      setTimeout(() => {
        const reply = `<div class="mb-2 text-left"><span class="inline-block bg-gray-300 dark:bg-gray-700 rounded p-2">Thanks for reaching out! We'll get back to you shortly.</span></div>`;
        supportChatMessages.innerHTML += reply;
        supportChatMessages.scrollTop = supportChatMessages.scrollHeight;
      }, 1500);
    });

    // Insights Dashboard Chart
    const insightsCtx = document.getElementById('insightsChart').getContext('2d');
    const insightsChart = new Chart(insightsCtx, {
      type: 'bar',
      data: {
        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
        datasets: [
          {
            label: 'Earnings (KES)',
            data: [5000, 7000, 6500, 8000],
            backgroundColor: 'rgba(13,148,136,0.7)'
          },
          {
            label: 'Jobs Completed',
            data: [12, 15, 14, 18],
            backgroundColor: 'rgba(59,130,246,0.7)'
          }
        ]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: true }
        }
      }
    });

    // Referral Program copy button
    const copyReferralBtn = document.getElementById('copyReferralBtn');
    copyReferralBtn.addEventListener('click', () => {
      const referralInput = document.getElementById('referralLink');
      referralInput.select();
      referralInput.setSelectionRange(0, 99999);
      navigator.clipboard.writeText(referralInput.value).then(() => {
        alert('Referral link copied to clipboard!');
      });
    });

  </script>
</body>
</html>
